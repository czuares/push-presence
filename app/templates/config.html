<div class="modal-header">
  <h3 class="modal-title">Settings
    <label class="pull-right">
      <small>Event Monitoring:</small>
      <bs-switch ng-model="model.globalEnabled" type="checkbox"></bs-switch>
    </label>
  </h3>
</div>
<div class="modal-body">
  <div>
    <h4>
      Click <a href="https://www.pushbullet.com/account" target="_blank">here</a> to get an access token
    </h4>
    <div class="form-group" ng-class="{'has-error' : !(ApiKeySet()), 'has-success' : (ApiKeySet()) }">
      <div class="input-group">
        <input type="text" class="form-control" aria-label="API Token" placeholder="API Token" ng-change="SetToken()" ng-disabled="ApiKeySet()" ng-model="config.pushBulletApiToken" />
        <span class="input-group-btn">
          <button class="btn btn-danger" type="button" ng-click="RevokeApiToken()" ng-disabled="!(ApiKeySet())">Unregister</button>
        </span>
      </div>
      <div class="form-group">
        <div class="bg-danger text-center text-danger padded img-rounded" ng-if="!(ApiKeySet())">
          API Token is required
        </div>
      </div>
    </div>
    <p class="help-block"><button class="btn btn-default" ng-disabled="!online || !ApiKeySet()" ng-click="RefreshDevices()">Refresh Devices</button> Click to load new or remove stale devices</p>
  </div>
  <hr>
  <div>
    <div class="form-group">
      <label>
        Hide Disabled Devices:
        <bs-switch ng-model="model.hideDisabled" type="checkbox"></bs-switch>
      </label>
    </div>
    <div class="form-group">
      <label>
        Show Desktop Notifications:
        <bs-switch ng-model="model.showDesktopNotifications" type="checkbox"></bs-switch>
      </label>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok($event)">Close</button>
</div>